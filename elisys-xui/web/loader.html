<html style="height:100vh;">

<body style="height:100vh; margin: 0px;">
    <iframe id='rootFrame' frameborder="0" width="100%" height="100%" style='height: 100vh; width: 100vw;'>
    </iframe>
</body>

<script >
    if (typeof window.$xui === 'undefined')
        window.$xui = {};

    if (window.$xui.rootdata == null)
         window.$xui.rootdata = {};
</script>

<script defer src="libxui.dart.js"></script>
<script defer src="app/loader.js"></script>

<script type="module">

    const urlParams = new URLSearchParams(window.location.search);
    window.$xui.rootdata.frameName = urlParams.get("id");

    import("./app/clsEventManager.js").then((module) => {
        new module.EventManager().initBuild();
    });

    import("./app/clsPageDesignManager.js").then((module) => {
        $xui.pageDesignManager = new module.PageDesignManager();

        waitForXuiLib("initPageXUI", function () {
            var infoFile = $xui.pageDesignManager.getInfoFile("final");
            $xui.initPageXUI(infoFile);
        }, this);
    });

    // lancer par le initPageXUI
    $xui.loadPageJS = (html) => {
        document.querySelector("#rootFrame").srcdoc = html;
    };

</script>

</html>