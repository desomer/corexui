<xui-factory version="1.0">

	<xui-doc xid="page">
		<xui-prop var="title" editor="string">titre</xui-prop>

		<xui-prop var="colorApp" editor="string" link="https://materialdesignicons.com/">couleur primaire</xui-prop>
		<xui-prop var="colorBg" editor="string" link="https://materialdesignicons.com/">couleur fond de page</xui-prop>
		<xui-prop var="copyrightApp" editor="string">copyright de l'appli</xui-prop>
		
		<xui-prop var="withSysBar" editor="bool">System bar</xui-prop>
		<xui-prop var="withAppBar" def="true" editor="bool">App bar</xui-prop>

		<xui-prop var="withLeftNavigation" editor="bool">Navigation Drawer</xui-prop>
		<xui-prop var="navPermanent" editor="bool">Nav permanent</xui-prop>
		<xui-prop var="navTemporary" editor="bool">Force temporary nav on Desktop</xui-prop>

		<xui-prop var="withFooter" editor="bool">Footer bar</xui-prop>
		<xui-prop var="withBottomNavigation" editor="bool">Bottom Navigation</xui-prop>
				
		<xui-prop id="name">Page</xui-prop>
		<xui-prop id="desc">La page</xui-prop>
	</xui-doc>
	<!---------------------------------------------------------------------------------------->

	<xui-doc xid="v-navigation-drawer:vue-nav-drawer-1">
		<xui-prop id="name">Nav drawer</xui-prop>
		<xui-prop id="desc">navigation drawer</xui-prop>
	</xui-doc>

	<!---------------------------------------------------------------------------------------->

	<xui-doc xid="v-container:vue-content-1">
		<xui-prop id="favorite">container</xui-prop>
		<xui-prop id="exclude"></xui-prop>
		<xui-prop id="include"></xui-prop>

		<xui-prop id="name">Content</xui-prop>
		<xui-prop id="desc">Contenu de la page</xui-prop>
	</xui-doc>
	
	<!---------------------------------------------------------------------------------------->
	<xui-doc xid="vue-toolbar-1">
		<xui-prop id="name">Header</xui-prop>
		<xui-prop id="desc">Entete</xui-prop>

		<xui-prop var="HeaderHeight" editor="height">height (px, vh)</xui-prop>

		<xui-prop var="HeaderDense" def="false" editor="bool">dense</xui-prop>
		<xui-prop var="HeaderProminent" def="false" editor="bool">prominent</xui-prop>
		<xui-prop var="shrink-on-scroll" def="false" editor="bool">shrink on scroll</xui-prop>

		<xui-prop var="HeaderCollapseonscroll" def="false" editor="bool">collapse on scroll</xui-prop>
		<xui-prop var="HeaderHideonscroll" def="false" editor="bool">hide on scroll</xui-prop>
		
		<xui-prop var="HeaderExtended" def="false" editor="bool">Extended</xui-prop>
		<xui-prop var="Headerscrolloffscreen" def="false" editor="bool">scroll off screen (if Extended)</xui-prop>
	</xui-doc>

	<xui-doc xid="v-toolbar-title:vue-toolbar-1">
		<xui-prop id="name">Toolbar title</xui-prop>
		<xui-prop id="desc">Toolbar title</xui-prop>
	</xui-doc>

	<xui-doc xid="v-toolbar-items:vue-toolbar-1">
		<xui-prop id="name">Toolbar items</xui-prop>
		<xui-prop id="desc">Entete Toolbar items</xui-prop>
	</xui-doc>
	
	<xui-doc xid="v-app-bar:vue-toolbar-1">
		<xui-prop id="favorite">action</xui-prop>
		<xui-prop id="exclude"></xui-prop>
		<xui-prop id="include"></xui-prop>

		<xui-prop id="name">Toolbar action</xui-prop>
		<xui-prop id="desc">Toolbar de l'entete</xui-prop>
	</xui-doc>

	<!---------------------------------------------------------------------------------------->
	<xui-doc xid="vue-footer-1">
		<xui-prop id="name">Footer</xui-prop>
		<xui-prop id="desc">Pied de page</xui-prop>
	</xui-doc>

	<xui-doc xid="v-footer:vue-footer-1">
		<xui-prop id="favorite">action</xui-prop>
		<xui-prop id="exclude"></xui-prop>
		<xui-prop id="include"></xui-prop>

		<xui-prop id="name">Toolbar</xui-prop>
		<xui-prop id="desc">Toolbar du pied de page</xui-prop>
	</xui-doc>
<!---------------------------------------------------------------------------------------->

	<xui-doc xid="vue-bottom-nav-1">
		<xui-prop id="name">Bottom Navigation</xui-prop>
		<xui-prop id="desc">Bottom Navigation</xui-prop>
	</xui-doc>

	<xui-doc xid="v-bottom-navigation:vue-bottom-nav-1">
		<xui-prop id="name">Bottom Navigation Action</xui-prop>
		<xui-prop id="desc">Bottom Navigation Action</xui-prop>
	</xui-doc>
	

	<!---------------------------------------------------------------------------------------->
	<!--  gestion page autonome -->
	<html xid="frame-vuetify-1" xui-mode="final;design;preview" style="height:100vh;" xui-slot-name="page"
		xui-doc-id="page">

		<head xid="header-vuetify"></head>

		<body xid="body-vuetify" style="height:100vh"></body>
		<xui-script-data></xui-script-data>
		<script defer src="https://cdn.jsdelivr.net/npm/vue@2.6.x/dist/vue.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.js"></script>
		<xui-slot xid="inject-after-body"></xui-slot>
		<xui-init-vuetify></xui-init-vuetify>
		<xui-init-designer></xui-init-designer>
	</html>

	<!--  gestion du designer -->
	<xui-slot xid="frame-vuetify-1" xui-mode="template" xui-slot-name="page" xui-doc-id="page">
		<body xid="body-vuetify" style="height:100vh"></body>
	</xui-slot>

	<!--------------------------------------------------------------------------------------->

	<xui-design xid="header-vuetify">
		<title>[[title@0+]]</title>
		<viewport-no-zoom></viewport-no-zoom>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" />
		<link rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" />

		<xui-slot xid="inject-other-header"></xui-slot>
		<style xid="inject-style"></style>
	</xui-design>


	<xui-design xui-mode="template;design" xid="inject-style">
		<style xui-no-dom>
			input[disabled],
			button[disabled] {
				pointer-events: auto !important;
				/* click de selection pour le designer accessible sur les disables */
			}

			[contenteditable]:focus {
				background: #fff;
				color : black;
			}
			[contenteditable]::selection {
				background: #fff; 
				color : black;
			}
		</style>
	</xui-design>

	<xui-design xui-mode="template;design" xid="inject-style">
        <style xui-no-dom>

            html::-webkit-scrollbar {
                width: 10px;
            }

            html::-webkit-scrollbar-track {
				background: #ffffffd9;
                box-shadow: inset 0 0 3px 0px  rgba(0, 0, 0, 0.1);
            }

            html::-webkit-scrollbar-thumb {
                box-shadow: inset 0 0 15px 0px rgba(0, 0, 0, 0.2);
                border-radius: 3px;
            }

        </style>
	</xui-design>
	
	<xui-design xid="inject-style">
        <style xui-no-dom>

            .v-navigation-drawer__content {
                color: rgba(0, 0, 0, 0); 
                transition: color .5s ease;
            }

            .v-navigation-drawer__content:hover {
                color: rgba(0, 0, 0, 0.2); 
            }

            .v-navigation-drawer__content::-webkit-scrollbar {
                width: 10px;
            }

            .v-navigation-drawer__content::-webkit-scrollbar-track {
                box-shadow: inset 0 0 6px 0px  rgba(0, 0, 0, 0.1);
            }
            .v-navigation-drawer__content:hover::-webkit-scrollbar-track {
               box-shadow: inset 0 0 6px 0px  rgba(0, 0, 0, 0.3);
            }

            .v-navigation-drawer__content::-webkit-scrollbar-thumb {
                box-shadow: inset 0 0 15px 0px;
                border-radius: 5px;
            }

        </style>
    </xui-design>


	<meta xid="viewport-no-zoom" name="viewport"
		content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
	</meta>

	<xui-design xid="maincontent">
		<xui-slot xid="inject-design-ui"></xui-slot>
		<vue-systembar-1></vue-systembar-1>
		<vue-nav-drawer-1></vue-nav-drawer-1>
		<vue-toolbar-1 xid="toolbar"></vue-toolbar-1>
		<vue-content-1></vue-content-1>
		<vue-footer-1 xid="footer"></vue-footer-1>
		<vue-bottom-nav-1 xid="bottom-nav"></vue-bottom-nav-1>
	</xui-design>

	<v-system-bar xid="vue-systembar-1" xui-if=[[withSysBar@0+]] app :dark="dark"> 
		<xui-slot xui-reloader=true xid="slot-content-systembar" xui-slot-name="content system bar"></xui-slot>
	</v-system-bar>

	<v-app-bar xid="vue-toolbar-1" xui-slot-name="header bar" xui-if=[[withAppBar@0+]] 
		app 
		:clipped-left="true" 
		:dark="dark" 
		height="[[HeaderHeight@0]]"
		dense="[[HeaderDense@0]]"
		prominent="[[HeaderProminent@0]]"
		shrink-on-scroll="[[shrink-on-scroll@0]]"
		collapse-on-scroll="[[HeaderCollapseonscroll@0]]"
		hide-on-scroll="[[HeaderHideonscroll@0]]"
		color="[[colorApp@0+]]">
		<v-app-bar-nav-icon xui-if=[[withLeftNavigation@0+]] @click.stop="navdrawer = !navdrawer"></v-app-bar-nav-icon>
		<v-toolbar-title>
			<xui-slot xui-reloader=true xid="slot-toolbar-title" xui-slot-name="toolbar title"></xui-slot>
		</v-toolbar-title>
		<v-spacer></v-spacer>
		<!--v-toolbar-items-->
			<xui-slot xui-reloader=true xid="slot-action-header" xui-slot-name="toolbar items"></xui-slot>
		<!--/v-toolbar-items-->
	</v-app-bar>

	<v-navigation-drawer v-model="navdrawer" xid="vue-nav-drawer-1" xui-slot-name="nav drawer" xui-if=[[withLeftNavigation@0+]] 
		:clipped="true" temporary="[[navTemporary@0+]]" permanent="[[navPermanent@0+]]" app>
		<xui-slot xui-slot-full xui-reloader=true xid="slot-navigation-drawer" xui-slot-name="navigation"></xui-slot>
	</v-navigation-drawer>

	<v-content xid="vue-content-1">
		<v-container fluid :fill-height="ContentfillPage" class="pa-0" style="align-items:start">
			<xui-slot xui-reloader=true xui-slot-full xid="main" xui-slot-name="page content"></xui-slot>
		</v-container>
	</v-content>

	<v-footer xid="vue-footer-1" xui-slot-name="footer bar" :inset="false" xui-if=[[withFooter@0+]] app :height="heightFooter" :dark="dark"
		color="[[colorApp@0+]]" style="padding: 0px 10px;">
		<xui-slot xui-reloader=true xid="slot-action-footer" xui-slot-name="action footer"></xui-slot>
		<v-spacer></v-spacer>
		<span>&amp;copy;&amp;nbsp;[[copyrightApp@0+]]</span>
	</v-footer>

	<v-bottom-navigation xid="vue-bottom-nav-1" xui-slot-name="bottom nav bar" xui-if=[[withBottomNavigation@0+]] app background-color="[[colorApp@0+]]" :dark="dark">
		<xui-slot xui-reloader=true xid="slot-bottom-navigation" xui-slot-name="action bottom navigation"></xui-slot>
	</v-bottom-navigation>


	<xui-design xid="body-vuetify">
		<template id="xui-rootTemplate">
			<v-app xid="maincontent" -style="background:[[colorBg@0+]]">
			</v-app>
			<xui-trashcan></xui-trashcan>
		</template>

		<div id="app"></div>

	</xui-design>

	<!----------------------------  TRASHCAN ---------------------------------->
	<div xid="xui-trashcan" xui-mode="template;design" style="	display:none; z-index: 100; 
				background-color: white;position: absolute;
				border: 1px solid #0b00ff;
				top: 10vh;left: 10vw;height: 80vh;width: 80vw;">
		<xui-slot xid="xui-trashcan-slot" xui-slot-name="trashcan Slot"></xui-slot>
	</div>
	<xui-slot xid="xui-trashcan" xui-mode="final;preview"></xui-slot>
	<!------------------------------------------------------------------------->

	<script xid="xui-script-data">
		if (typeof $xui === 'undefined')
			$xui = {};

		$xui.rootdata = {
			dark: true,
			//heightHeader: 32,
			heightFooter: 32,
			ContentfillPage: true,
			navdrawer: false
		};

		$xui.initComponentVuejs = [];  // liste des function de creation de cmp vuejs à appeler  
	</script>

	<!--------------------------------------------------------------------------------------->
	<script type="module" xid="xui-init-vuetify">
		import "./app/vue2frame.js";
		$xui.loadApplicationJS();
	</script>

	<!--------------------------- PAS IMPLEMENTATION EN MODE FINAL ------------>
	<xui-slot xid="xui-init-designer" xui-mode="final"></xui-slot>

	<script xid="xui-init-designer" xui-mode="preview">
		document.addEventListener("keydown", function (event) {
			if (event.ctrlKey && event.keyCode == 81) {    // ctrl + Q
				event.stopPropagation();
				event.preventDefault();
				var message = {
					action: "ctrlQ",
				};
				window.parent.postMessage(message, "*");
			}
		});
	</script>

	<script xid="xui-init-designer" xui-mode="design">
		<xui-inject xui-path="app/vue2frameDesigner.js"></xui-inject>
	</script>

</xui-factory>