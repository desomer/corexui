<xui-factory version="1.0">
    <xui-import xui-path="app/vue2frame.html"></xui-import>
    <xui-import xui-path="app/cmp2vuetify.html"></xui-import>

    <frame-vuetify-1 xid="root"></frame-vuetify-1>

    <xui-design xid="root">
        <xui-prop id="title" val="PWA Designer"></xui-prop>
        <xui-prop id="titleApp" val="{{selectedxui}}"></xui-prop>
        <xui-prop id="colorApp" val="#1d9da0"></xui-prop>
        <xui-prop id="colorBg" val="white"></xui-prop>
        <xui-prop id="copyrightApp" val="Elisys 2019 v0.1.0"></xui-prop>
    </xui-design>

    <xui-design xid="main">
        <xui-tabs xid="main-tab" xui-nb="7" vertical dark class="main-tab"></xui-tabs>
    </xui-design>

    <xui-design xid="main-tab-tab-0"><v-icon>mdi-square-edit-outline</v-icon></xui-design>
    <xui-design xid="main-tab-tab-1"><v-icon>mdi-code-tags</v-icon></xui-design>
    <xui-design xid="main-tab-tab-2"><v-icon>mdi-api</v-icon></xui-design>
    <xui-design xid="main-tab-tab-3"><v-icon>mdi-database</v-icon></xui-design>
    <xui-design xid="main-tab-tab-4"><v-icon>mdi-apps</v-icon></xui-design>
    <xui-design xid="main-tab-tab-5"><v-icon>mdi-image-filter</v-icon></xui-design>
    <xui-design xid="main-tab-tab-6"><v-icon>mdi-border-inside</v-icon></xui-design>
   
    <xui-design xid="main-tab-tab-item-0">
        <div class="main-container">
            <div class="main-item main-item-1"></div>
            <div class="main-item main-item-2">
                <iframe 
                    style="width:100%;height:100%;position:relative;border: 0px;padding: 0px;margin: 0px;" 
                    id='rootFrame'>
                </iframe>
            </div>
            <div class="main-item main-item-3">
                <design-action xid="action-tab"></design-action>
            </div>
        </div>
    </xui-design>

    <xui-design xid="main-tab-tab-item-1">
        <div class="main-code">
            <pre>
                <code id="xui-code-html" spellcheck="false"></code>
            </pre>
        </div>
    </xui-design>

    <xui-tabs xid="design-action" dark height="38px" xui-nb="3">
    </xui-tabs>

    <xui-design xid="action-tab-tab-0"><v-icon>mdi-layers-triple</v-icon></xui-design>
    <xui-design xid="action-tab-tab-1"><v-icon>mdi-plus-box-multiple</v-icon></xui-design>
    <xui-design xid="action-tab-tab-2"><v-icon>mdi-file-tree</v-icon></xui-design>
    <xui-design xid="action-tab-tab-item-0"><div id="AppPropertiesSetting"></div></xui-design>
    <xui-design xid="action-tab-tab-item-1"><div id="AppComponents"></div></xui-design>
    <xui-design xid="action-tab-tab-item-2">Comming soon...</xui-design>

    <xui-design xid="slot-action-header">
        <v-btn small class="btn-action" @click="$xui.fullScreen()"><v-icon>mdi-television-play</v-icon></v-btn>
        <v-btn small class="btn-action" ><v-icon>mdi-monitor-cellphone</v-icon></v-btn>
        <v-btn small class="btn-action" @click="$xui.refresh('final')"><v-icon>mdi-autorenew</v-icon></v-btn>
        <v-btn small class="btn-action" @click="$xui.refresh('template')"><v-icon>mdi-refresh</v-icon></v-btn>
        <v-btn small class="btn-action" @click="$xui.save()"><v-icon>mdi-content-save</v-icon></v-btn>
    </xui-design>

    <xui-design xid="slot-action-footer">
        <v-btn small class="btn-action" @click="$xui.save()"><v-icon>mdi-settings</v-icon></v-btn>
        <v-btn small class="btn-action" @click="$xui.save()"><v-icon>mdi-note-multiple</v-icon></v-btn>
        <v-btn small class="btn-action" @click="$xui.save()"><v-icon>mdi-new-box</v-icon></v-btn>
    </xui-design>

    <xui-design xid="xui-script-data">
        $xui.rootdata=Object.assign($xui.rootdata, 
                { selectedxui : "PWA Designer"}
                );  ;
    </xui-design>
    
    <xui-design xid="inject-other-header">
        <link href="https://cdn.jsdelivr.net/npm/prismjs@1.x/themes/prism.css" rel="stylesheet" />
        <style>
            .barcustom::-webkit-scrollbar {
                width: 10px;
            }
            
            .barcustom::-webkit-scrollbar-track {
                box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
                border-radius: 10px;
            }
            
            .barcustom::-webkit-scrollbar-thumb {
                box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
                border-radius: 10px;
            }

            .xui-style-prop {    
                background: #f9f9f9;
                height: 24px;
                color: #696969 !important;
                padding: 0px 5px;
            }

            html::-webkit-scrollbar {
                 width: 0px;  /*pas de scrollbar */
            }
            .main-tab .v-tab {
                min-width: 40px;
                width: 40px;
                height: 40px !important;
            }

            .main-container { 
                height: calc(100vh - 64px);
                width: 100%;
                display: grid; 
                grid-template-columns: 0px auto 250px;
                grid-template-rows: 100%; 
                }
            .main-item-2 {
                border: 1px solid #e0e0e0;
            }

            .main-code {
                height: calc(100vh - 64px);
                width: 100%;
            }
            pre, code {
                font-family: monospace, monospace;
            }
            pre {
                overflow: auto;
            }
            pre > code {
                display: block;
                padding: 1rem;
                word-wrap: normal;
                position: absolute;
                right: 0px;
                height: 100%;
                width: 100%;
                overflow: auto;
                color: black !important;
                white-space: unset !important;
                font-weight: unset !important;
            }

            .btn-action {min-width:30px !important ;padding:0px !important;background-color: #ffffff00 !important;}
        </style>
    </xui-design>

    <xui-design xid="inject-after-body">
        <script>
<xui-inject xui-path="app/frameDesigner.js"></xui-inject>
        </script>
        <script defer src="//cdn.jsdelivr.net/npm/faunadb@latest/dist/faunadb-min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.x/prism.min.js"></script>
        <script src="libxui.dart.js"></script>

        <!-- <script>
                 setTimeout( ()=> {
                    q = faunadb.query;
                    var client = new faunadb.Client({ secret: 'fnADgqwCPfACAEWJ2wy7Kb5jrUIN5aa4t93DOl1a' });

                    client.query(
                    q.Get(q.Ref(q.Collection('Filexui'), '252953488011559426'))
                    )
                    .then((ret) => console.log(ret))


                    client.query(
                    q.Create(
                        q.Collection('Filexui'),
                        { data: { id: 2, html:"super" } },
                    )
                    )
                    .then((ret) => console.log(ret))

                    client.query(
                        q.Get(
                            q.Match(q.Index('all_filexui'))
                        )
                        )
                        .then((ret) => console.log(ret))

                 }, 2000)
 
        </script> -->
    </xui-design>

</xui-factory>